2025-04-29 08:07:49,314 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:08:39,373 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:08:39,425 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:08:39,458 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:08:39,487 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:08:39,520 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:08:39,547 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:08:39,593 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:08:39,609 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:08:39,624 - KitchnSpy - INFO - Application started
2025-04-29 08:08:44,661 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:08:44,664 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.003s
2025-04-29 08:08:44,998 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:08:45,011 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.013s
2025-04-29 08:09:03,795 - KitchnSpy - INFO - Request started | GET /api/v1/products/
2025-04-29 08:09:03,801 - KitchnSpy - ERROR - Exception | 'NoneType' object is not iterable
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 22, in get_all_products
    return products_crud.find_all_products()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 68, in find_all_products
    return self.serialize_documents(products)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 24, in serialize_documents
    return [self.util.convert_objectid_to_str(doc) for doc in documents if doc]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable
2025-04-29 08:09:03,914 - KitchnSpy - ERROR - Unhandled exception | 'NoneType' object is not iterable
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 22, in get_all_products
    return products_crud.find_all_products()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 68, in find_all_products
    return self.serialize_documents(products)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 24, in serialize_documents
    return [self.util.convert_objectid_to_str(doc) for doc in documents if doc]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable
2025-04-29 08:11:53,250 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:11:53,251 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.000s
2025-04-29 08:11:53,594 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:11:53,595 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 08:11:57,350 - KitchnSpy - INFO - Request started | GET /api/v1/products/
2025-04-29 08:11:57,351 - KitchnSpy - ERROR - Exception | 'NoneType' object is not iterable
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 22, in get_all_products
    return products_crud.find_all_products()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 68, in find_all_products
    """Find all products in the database, sorted by product name."""
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 24, in serialize_documents
    """Convert ObjectId to str in a list of documents."""
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable
2025-04-29 08:11:57,358 - KitchnSpy - ERROR - Unhandled exception | 'NoneType' object is not iterable
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 22, in get_all_products
    return products_crud.find_all_products()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 68, in find_all_products
    """Find all products in the database, sorted by product name."""
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 24, in serialize_documents
    """Convert ObjectId to str in a list of documents."""
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable
2025-04-29 08:12:34,597 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:12:34,660 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:12:34,705 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:12:34,752 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:12:34,798 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:12:34,835 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:12:34,893 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:12:34,928 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:12:34,939 - KitchnSpy - INFO - Application started
2025-04-29 08:12:47,223 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:12:47,226 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.003s
2025-04-29 08:12:47,359 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:12:47,366 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.008s
2025-04-29 08:12:52,007 - KitchnSpy - INFO - Request started | GET /api/v1/products/
2025-04-29 08:12:52,009 - KitchnSpy - ERROR - Exception | object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 22, in get_all_products
    return products_crud.find_all_products()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 70, in find_all_products
    return self.serialize_documents(products)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 25, in serialize_documents
    if len(documents) > 0:
       ^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
2025-04-29 08:12:52,030 - KitchnSpy - ERROR - Unhandled exception | object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 22, in get_all_products
    return products_crud.find_all_products()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 70, in find_all_products
    return self.serialize_documents(products)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 25, in serialize_documents
    if len(documents) > 0:
       ^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
2025-04-29 08:13:07,541 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:13:07,585 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:13:07,623 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:13:07,683 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:13:07,724 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:13:07,759 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:13:07,786 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:13:07,835 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:13:07,857 - KitchnSpy - INFO - Application started
2025-04-29 08:13:07,935 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:13:07,936 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 08:13:08,016 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:13:08,032 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.015s
2025-04-29 08:13:11,496 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:13:11,497 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 08:13:11,563 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:13:11,564 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.000s
2025-04-29 08:13:16,046 - KitchnSpy - INFO - Request started | GET /api/v1/products/
2025-04-29 08:13:16,049 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.003s
2025-04-29 08:15:11,716 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:15:11,766 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:15:11,812 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:15:11,843 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:15:11,875 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:15:11,915 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:15:11,949 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:15:11,981 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:15:11,999 - KitchnSpy - INFO - Application started
2025-04-29 08:18:20,477 - KitchnSpy - INFO - Request started | POST /api/v1/products/
2025-04-29 08:18:20,483 - KitchnSpy - INFO - Scraping for Glass Mixing bowl
2025-04-29 08:18:20,668 - KitchnSpy - ERROR - Exception | 1 validation error for ProductData
name
  Field required [type=missing, input_value={'product': 'Glass Mixing...c), 'status': 'success'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 10, in add_product
    return products_crud.add_product(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 37, in add_product
    validated_product = ProductData.model_validate(scraped_product).model_dump()
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 627, in model_validate
    return cls.__pydantic_validator__.validate_python(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for ProductData
name
  Field required [type=missing, input_value={'product': 'Glass Mixing...c), 'status': 'success'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
2025-04-29 08:18:20,696 - KitchnSpy - ERROR - Unhandled exception | 1 validation error for ProductData
name
  Field required [type=missing, input_value={'product': 'Glass Mixing...c), 'status': 'success'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 10, in add_product
    return products_crud.add_product(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 37, in add_product
    validated_product = ProductData.model_validate(scraped_product).model_dump()
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 627, in model_validate
    return cls.__pydantic_validator__.validate_python(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for ProductData
name
  Field required [type=missing, input_value={'product': 'Glass Mixing...c), 'status': 'success'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
2025-04-29 08:21:10,831 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:21:10,897 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:21:10,930 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:21:10,953 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:21:10,965 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:21:11,002 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:21:11,031 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:21:11,062 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:21:11,081 - KitchnSpy - INFO - Application started
2025-04-29 08:21:13,705 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:21:13,708 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.002s
2025-04-29 08:21:13,802 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:21:13,818 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.015s
2025-04-29 08:21:19,488 - KitchnSpy - INFO - Request started | POST /api/v1/products/
2025-04-29 08:21:19,489 - KitchnSpy - INFO - Scraping for Glass Mixing bowl
2025-04-29 08:21:19,678 - KitchnSpy - INFO - Inserted product with ID: 68107defab2a91516cffdf11
2025-04-29 08:21:19,679 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.190s
2025-04-29 08:21:38,425 - KitchnSpy - INFO - Request started | POST /api/v1/products/
2025-04-29 08:21:38,426 - KitchnSpy - INFO - Scraping for Glass Mixing bowl
2025-04-29 08:21:38,548 - KitchnSpy - ERROR - Exception | 
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 10, in add_product
    return products_crud.add_product(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 38, in add_product
    self.db.insert_product(validated_product)
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 96, in insert_product
    raise DuplicateEntityError(entry=data["url"], entity="Product")
app.core.exceptions.DuplicateEntityError
2025-04-29 08:21:38,553 - KitchnSpy - WARNING - DuplicateEntityError | Product with id https://www.kitchenaid.co.uk/mixing-bowls/859711694400/glass-mixing-bowl-4-7-l-5ksm5gb-transparent already exists
2025-04-29 08:23:23,861 - KitchnSpy - INFO - Request started | POST /api/v1/products/
2025-04-29 08:23:23,862 - KitchnSpy - INFO - Scraping for Glass Mixing bowl
2025-04-29 08:23:24,190 - KitchnSpy - INFO - Inserted product with ID: 68107e6cab2a91516cffdf13
2025-04-29 08:23:24,191 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.329s
2025-04-29 08:23:33,568 - KitchnSpy - INFO - Request started | POST /api/v1/products/
2025-04-29 08:23:33,568 - KitchnSpy - INFO - Scraping for Glass Mixing bowl
2025-04-29 08:23:33,812 - KitchnSpy - INFO - Inserted product with ID: 68107e75ab2a91516cffdf14
2025-04-29 08:23:33,812 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.244s
2025-04-29 08:23:44,792 - KitchnSpy - INFO - Request started | POST /api/v1/products/
2025-04-29 08:23:44,793 - KitchnSpy - INFO - Scraping for Glass Mixing bowl
2025-04-29 08:23:44,825 - KitchnSpy - WARNING - Request exception on attempt 1/3: HTTPSConnectionPool(host='www.kitcre', port=443): Max retries exceeded with url: / (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x0000025CAA50E6C0>: Failed to resolve 'www.kitcre' ([Errno 11001] getaddrinfo failed)"))
2025-04-29 08:23:44,828 - KitchnSpy - WARNING - Request exception on attempt 2/3: HTTPSConnectionPool(host='www.kitcre', port=443): Max retries exceeded with url: / (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x0000025CAA54D970>: Failed to resolve 'www.kitcre' ([Errno 11001] getaddrinfo failed)"))
2025-04-29 08:23:44,835 - KitchnSpy - WARNING - Request exception on attempt 3/3: HTTPSConnectionPool(host='www.kitcre', port=443): Max retries exceeded with url: / (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x0000025CAA54E1E0>: Failed to resolve 'www.kitcre' ([Errno 11001] getaddrinfo failed)"))
2025-04-29 08:23:44,835 - KitchnSpy - ERROR - Exception | 
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 10, in add_product
    return products_crud.add_product(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 32, in add_product
    scraped_product = self.scraper.scrape_product({
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\services\scraper.py", line 124, in scrape_product
    response=self.make_request(url)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\services\scraper.py", line 52, in make_request
    raise FailedRequestError(
app.core.exceptions.FailedRequestError
2025-04-29 08:23:44,841 - KitchnSpy - ERROR - FailedRequestError | Request failed: 3/3. DETAIL:All 3 attempts failed for URL: https://www.kitcre
2025-04-29 08:24:55,440 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:24:55,491 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:24:55,527 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:24:55,558 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:24:55,589 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:24:55,617 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:24:55,634 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:24:55,649 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:24:55,669 - KitchnSpy - INFO - Application started
2025-04-29 08:25:30,733 - KitchnSpy - INFO - Request started | GET /api/v1/products/68107defab2a91516cffdf12
2025-04-29 08:25:30,736 - KitchnSpy - ERROR - Exception | 
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 18, in get_product
    return products_crud.find_product(product_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 60, in find_product
    product = self.db.find_product(product_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 116, in find_product
    return self.find_by_id(self.products, product_id, "Product")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 70, in find_by_id
    raise DocNotFoundError(identifier=doc_id, entity=entity_name)
app.core.exceptions.DocNotFoundError
2025-04-29 08:25:30,748 - KitchnSpy - WARNING - DocNotFoundError | Product with id 68107defab2a91516cffdf12 not found
2025-04-29 08:25:34,572 - KitchnSpy - INFO - Request started | GET /api/v1/products/68107defab2a91516cffdf11
2025-04-29 08:25:34,579 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.005s
2025-04-29 08:25:43,595 - KitchnSpy - INFO - Request started | DELETE /api/v1/products/68107defab2a91516cffdf11
2025-04-29 08:25:43,620 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:25:43,656 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:25:43,698 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:25:43,730 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:25:43,772 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:25:43,786 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:25:43,822 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:25:43,832 - KitchnSpy - INFO - Deleted product 68107defab2a91516cffdf11
2025-04-29 08:25:43,834 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.238s
2025-04-29 08:25:47,458 - KitchnSpy - INFO - Request started | GET /api/v1/products/68107defab2a91516cffdf11
2025-04-29 08:25:47,460 - KitchnSpy - ERROR - Exception | 
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 18, in get_product
    return products_crud.find_product(product_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 60, in find_product
    product = self.db.find_product(product_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 116, in find_product
    return self.find_by_id(self.products, product_id, "Product")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 70, in find_by_id
    raise DocNotFoundError(identifier=doc_id, entity=entity_name)
app.core.exceptions.DocNotFoundError
2025-04-29 08:25:47,464 - KitchnSpy - WARNING - DocNotFoundError | Product with id 68107defab2a91516cffdf11 not found
2025-04-29 08:25:52,232 - KitchnSpy - INFO - Request started | DELETE /api/v1/products/68107defab2a91516cffdf11
2025-04-29 08:25:52,283 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:25:52,291 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:25:52,328 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:25:52,355 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:25:52,369 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:25:52,404 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:25:52,439 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:25:52,443 - KitchnSpy - ERROR - Error deleting product 68107defab2a91516cffdf11: 
2025-04-29 08:25:52,444 - KitchnSpy - ERROR - Exception | 
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 34, in delete_product
    products_crud.delete_product(product_id)
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 119, in delete_product
    self.db.delete_product(product_id)
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 231, in delete_product
    raise DocNotFoundError(identifier=product_id, entity="Product")
app.core.exceptions.DocNotFoundError
2025-04-29 08:25:52,450 - KitchnSpy - WARNING - DocNotFoundError | Product with id 68107defab2a91516cffdf11 not found
2025-04-29 08:28:36,578 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 08:28:36,579 - KitchnSpy - ERROR - Exception | 
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 18, in get_product
    return products_crud.find_product(product_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 60, in find_product
    product = self.db.find_product(product_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 116, in find_product
    return self.find_by_id(self.products, product_id, "Product")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 67, in find_by_id
    obj_id = self.validate_obj_id(doc_id, entity_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 63, in validate_obj_id
    raise InvalidIdError(entity =entity_name, detail=str(e))
app.core.exceptions.InvalidIdError
2025-04-29 08:28:36,583 - KitchnSpy - WARNING - InvalidIdError | Invalid id for Product. Detail: 'search' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2025-04-29 08:29:05,371 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:29:05,418 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:29:05,463 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:29:05,508 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:29:05,539 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:29:05,574 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:29:05,618 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:29:05,680 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:29:05,696 - KitchnSpy - INFO - Application started
2025-04-29 08:29:53,576 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:29:53,579 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 08:29:53,730 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:29:53,743 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.013s
2025-04-29 08:30:00,676 - KitchnSpy - INFO - Request started | GET /api/v1/products/
2025-04-29 08:30:00,678 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.003s
2025-04-29 08:30:18,166 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 08:30:18,167 - KitchnSpy - ERROR - Exception | 
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 18, in get_product
    return products_crud.find_product(product_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 60, in find_product
    product = self.db.find_product(product_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 116, in find_product
    return self.find_by_id(self.products, product_id, "Product")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 67, in find_by_id
    obj_id = self.validate_obj_id(doc_id, entity_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 63, in validate_obj_id
    raise InvalidIdError(entity =entity_name, detail=str(e))
app.core.exceptions.InvalidIdError
2025-04-29 08:30:18,193 - KitchnSpy - WARNING - InvalidIdError | Invalid id for Product. Detail: 'search' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2025-04-29 08:32:12,358 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:32:12,412 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:32:12,427 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:32:12,470 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:32:12,516 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:32:12,546 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:32:12,594 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:32:12,634 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:32:12,665 - KitchnSpy - INFO - Application started
2025-04-29 08:32:12,841 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:32:12,841 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.000s
2025-04-29 08:32:12,952 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:32:12,967 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.013s
2025-04-29 08:32:21,391 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 08:32:21,392 - KitchnSpy - ERROR - Exception | 
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 18, in get_product
    return products_crud.find_product(product_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 60, in find_product
    product = self.db.find_product(product_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 116, in find_product
    return self.find_by_id(self.products, product_id, "Product")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 67, in find_by_id
    obj_id = self.validate_obj_id(doc_id, entity_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 63, in validate_obj_id
    raise InvalidIdError(entity =entity_name, detail=str(e))
app.core.exceptions.InvalidIdError
2025-04-29 08:32:21,400 - KitchnSpy - WARNING - InvalidIdError | Invalid id for Product. Detail: 'search' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2025-04-29 08:36:04,286 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:36:04,322 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:36:04,370 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:36:04,403 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:36:04,434 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:36:04,477 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:36:04,511 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:36:04,542 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:36:04,557 - KitchnSpy - INFO - Application started
2025-04-29 08:36:09,842 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:36:09,844 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 08:36:09,979 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:36:09,994 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.014s
2025-04-29 08:36:19,269 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 08:36:19,270 - KitchnSpy - ERROR - Exception | 
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 18, in get_product
    return products_crud.find_product(product_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 60, in find_product
    product = self.db.find_product(product_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 116, in find_product
    return self.find_by_id(self.products, product_id, "Product")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 67, in find_by_id
    obj_id = self.validate_obj_id(doc_id, entity_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 63, in validate_obj_id
    raise InvalidIdError(entity =entity_name, detail=str(e))
app.core.exceptions.InvalidIdError
2025-04-29 08:36:19,276 - KitchnSpy - WARNING - InvalidIdError | Invalid id for Product. Detail: 'search' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2025-04-29 08:36:44,083 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:36:44,144 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:36:44,187 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:36:44,221 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:36:44,254 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:36:44,270 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:36:44,289 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:36:44,303 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:36:44,321 - KitchnSpy - INFO - Application started
2025-04-29 08:36:50,597 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:36:50,599 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.002s
2025-04-29 08:36:50,727 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:36:50,748 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.019s
2025-04-29 08:37:00,065 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 08:37:00,065 - KitchnSpy - ERROR - Exception | 
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 18, in get_product
    return products_crud.find_product(product_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 60, in find_product
    product = self.db.find_product(product_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 116, in find_product
    return self.find_by_id(self.products, product_id, "Product")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 67, in find_by_id
    obj_id = self.validate_obj_id(doc_id, entity_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 63, in validate_obj_id
    raise InvalidIdError(entity =entity_name, detail=str(e))
app.core.exceptions.InvalidIdError
2025-04-29 08:37:00,073 - KitchnSpy - WARNING - InvalidIdError | Invalid id for Product. Detail: 'search' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2025-04-29 08:37:37,475 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:37:37,539 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:37:37,580 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:37:37,635 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:37:37,672 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:37:37,699 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:37:37,742 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:37:37,776 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:37:37,791 - KitchnSpy - INFO - Application started
2025-04-29 08:38:11,345 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:38:11,394 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:38:11,425 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:38:11,452 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:38:11,464 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:38:11,475 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:38:11,516 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:38:11,542 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:38:11,555 - KitchnSpy - INFO - Application started
2025-04-29 08:38:13,350 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:38:13,352 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 08:38:13,426 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:38:13,446 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.020s
2025-04-29 08:38:22,898 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 08:38:22,906 - KitchnSpy - ERROR - Exception | [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\encoders.py", line 324, in jsonable_encoder
    data = dict(obj)
           ^^^^^^^^^
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\encoders.py", line 329, in jsonable_encoder
    data = vars(obj)
           ^^^^^^^^^
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 201, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\encoders.py", line 303, in jsonable_encoder
    jsonable_encoder(
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\encoders.py", line 289, in jsonable_encoder
    encoded_value = jsonable_encoder(
                    ^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\encoders.py", line 332, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-04-29 08:38:22,936 - KitchnSpy - ERROR - Unhandled exception | [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\encoders.py", line 324, in jsonable_encoder
    data = dict(obj)
           ^^^^^^^^^
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\encoders.py", line 329, in jsonable_encoder
    data = vars(obj)
           ^^^^^^^^^
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 201, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\encoders.py", line 303, in jsonable_encoder
    jsonable_encoder(
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\encoders.py", line 289, in jsonable_encoder
    encoded_value = jsonable_encoder(
                    ^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\encoders.py", line 332, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-04-29 08:38:56,059 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:38:56,109 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:38:56,137 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:38:56,180 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:38:56,196 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:38:56,229 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:38:56,260 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:38:56,305 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:38:56,319 - KitchnSpy - INFO - Application started
2025-04-29 08:38:59,306 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:38:59,313 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.003s
2025-04-29 08:38:59,400 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:38:59,416 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.014s
2025-04-29 08:39:06,760 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 08:39:06,763 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.002s
2025-04-29 08:42:47,023 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 08:42:47,029 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.006s
2025-04-29 08:44:14,111 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:14,159 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:14,176 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:14,194 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:14,211 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:14,228 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:14,249 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:14,265 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:14,294 - KitchnSpy - INFO - Application started
2025-04-29 08:44:23,860 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:44:23,861 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.002s
2025-04-29 08:44:23,997 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:44:24,008 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.011s
2025-04-29 08:44:35,530 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 08:44:35,531 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 08:44:48,705 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:48,767 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:48,803 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:48,848 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:48,881 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:48,922 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:48,952 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:48,987 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:49,004 - KitchnSpy - INFO - Application started
2025-04-29 08:44:53,557 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:53,604 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:53,631 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:53,668 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:53,695 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:53,730 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:53,776 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:53,816 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:44:53,834 - KitchnSpy - INFO - Application started
2025-04-29 08:44:54,481 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:44:54,482 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.002s
2025-04-29 08:44:54,618 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:44:54,628 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.010s
2025-04-29 08:45:02,690 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 08:45:02,692 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.002s
2025-04-29 08:45:51,187 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:45:51,239 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:45:51,269 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:45:51,282 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:45:51,325 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:45:51,375 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:45:51,419 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:45:51,450 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:45:51,467 - KitchnSpy - INFO - Application started
2025-04-29 08:45:52,230 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:45:52,233 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 08:45:52,370 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:45:52,380 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.010s
2025-04-29 08:46:00,373 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 08:46:00,374 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 08:51:05,885 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:51:05,934 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:51:05,979 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:51:06,016 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:51:06,053 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:51:06,094 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:51:06,138 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:51:06,210 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:51:06,222 - KitchnSpy - INFO - Application started
2025-04-29 08:51:10,583 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:51:10,585 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.002s
2025-04-29 08:51:10,729 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:51:10,739 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.010s
2025-04-29 08:51:22,756 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 08:51:22,757 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.000s
2025-04-29 08:52:36,091 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:52:36,121 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:52:36,170 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:52:36,204 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:52:36,246 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:52:36,284 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:52:36,310 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:52:36,357 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:52:36,378 - KitchnSpy - INFO - Application started
2025-04-29 08:52:36,533 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:52:36,533 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.000s
2025-04-29 08:52:36,625 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:52:36,648 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.023s
2025-04-29 08:52:44,693 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 08:52:44,695 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.002s
2025-04-29 08:52:57,277 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:52:57,340 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:52:57,375 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:52:57,388 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:52:57,422 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:52:57,453 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:52:57,471 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:52:57,514 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:52:57,529 - KitchnSpy - INFO - Application started
2025-04-29 08:53:54,151 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:53:54,211 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:53:54,255 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:53:54,302 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:53:54,340 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:53:54,379 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:53:54,428 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:53:54,466 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:53:54,486 - KitchnSpy - INFO - Application started
2025-04-29 08:54:04,202 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:54:04,233 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:54:04,246 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:54:04,283 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:54:04,312 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:54:04,327 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:54:04,344 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:54:04,375 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:54:04,388 - KitchnSpy - INFO - Application started
2025-04-29 08:56:29,386 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:56:29,424 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:56:29,442 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:56:29,463 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:56:29,507 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:56:29,536 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:56:29,562 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:56:29,585 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 08:56:29,611 - KitchnSpy - INFO - Application started
2025-04-29 08:56:37,512 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:56:37,514 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 08:56:37,606 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:56:37,624 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.017s
2025-04-29 08:56:41,423 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:56:41,424 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 08:56:41,511 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:56:41,512 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.000s
2025-04-29 08:56:45,283 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 08:56:45,284 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 08:56:45,369 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 08:56:45,370 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 08:56:54,990 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 08:56:54,994 - KitchnSpy - ERROR - Error searching products: 
2025-04-29 08:56:54,995 - KitchnSpy - ERROR - Exception | 
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 201, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\encoders.py", line 301, in jsonable_encoder
    for item in obj:
                ^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 153, in search_products_by_name
    raise DocsNotFoundError(entities="Products", page=page)
app.core.exceptions.DocsNotFoundError
2025-04-29 08:56:55,018 - KitchnSpy - WARNING - DocsNotFoundError | No Products found on page 1
2025-04-29 08:57:01,171 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 08:57:01,171 - KitchnSpy - ERROR - Exception | 
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 201, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\encoders.py", line 301, in jsonable_encoder
    for item in obj:
                ^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 140, in search_products_by_name
    raise EmptySearchError(entry=search_term)
app.core.exceptions.EmptySearchError
2025-04-29 08:57:01,174 - KitchnSpy - WARNING - EmptySearchError | Empty search term attempted. Entry: 
2025-04-29 08:58:58,930 - KitchnSpy - INFO - Request started | POST /api/v1/products/batch
2025-04-29 08:58:58,931 - KitchnSpy - INFO - Scraping for Evergreen Artisan
2025-04-29 08:58:58,932 - KitchnSpy - INFO - Scraping for Evergreen Artisan
2025-04-29 08:58:59,127 - KitchnSpy - INFO - Scraping for Classic White
2025-04-29 08:58:59,127 - KitchnSpy - INFO - Scraping for Classic White
2025-04-29 08:58:59,280 - KitchnSpy - INFO - Inserted 2 products
2025-04-29 08:58:59,282 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.352s
2025-04-29 08:59:07,807 - KitchnSpy - INFO - Request started | POST /api/v1/products/
2025-04-29 08:59:07,809 - KitchnSpy - INFO - Scraping for Glass Mixing bowl
2025-04-29 08:59:07,949 - KitchnSpy - INFO - Inserted product with ID: 681086cbd1c26c465276d523
2025-04-29 08:59:07,949 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.141s
2025-04-29 08:59:18,153 - KitchnSpy - INFO - Request started | POST /api/v1/products/
2025-04-29 08:59:18,155 - KitchnSpy - INFO - Scraping for Glass Mixing bowl
2025-04-29 08:59:18,301 - KitchnSpy - ERROR - Exception | 
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 10, in add_product
    return products_crud.add_product(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 39, in add_product
    self.db.insert_product(validated_product)
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 96, in insert_product
    raise DuplicateEntityError(entry=data["url"], entity="Product")
app.core.exceptions.DuplicateEntityError
2025-04-29 08:59:18,304 - KitchnSpy - WARNING - DuplicateEntityError | Product with id https://www.kitchenaid.co.uk/mixing-bowls/859711694400/glass-mixing-bowl-4-7-l-5ksm5gb-transparent already exists
2025-04-29 08:59:27,218 - KitchnSpy - INFO - Request started | POST /api/v1/products/batch
2025-04-29 08:59:27,219 - KitchnSpy - INFO - Scraping for Evergreen Artisan
2025-04-29 08:59:27,220 - KitchnSpy - INFO - Scraping for Evergreen Artisan
2025-04-29 08:59:27,344 - KitchnSpy - INFO - Scraping for Classic White
2025-04-29 08:59:27,346 - KitchnSpy - INFO - Scraping for Classic White
2025-04-29 08:59:27,481 - KitchnSpy - ERROR - Failed to insert products: batch op errors occurred, full error: {'writeErrors': [{'index': 0, 'code': 11000, 'errmsg': 'E11000 duplicate key error collection: kitchnspy.products index: url_1 dup key: { url: "https://www.kitchenaid.co.uk/mixers/medium/859711664810/mixer-design-series-4-7l-evergreen-artisan-5ksm180ws-evergreen" }', 'keyPattern': {'url': 1}, 'keyValue': {'url': 'https://www.kitchenaid.co.uk/mixers/medium/859711664810/mixer-design-series-4-7l-evergreen-artisan-5ksm180ws-evergreen'}, 'op': {'name': 'Evergreen Artisan', 'url': 'https://www.kitchenaid.co.uk/mixers/medium/859711664810/mixer-design-series-4-7l-evergreen-artisan-5ksm180ws-evergreen', 'product_name': 'MIXER DESIGN SERIES 4.7L EVERGREEN - ARTISAN', 'img_url': 'https://digitalassets-cdn.thron.com/api/v1/content-delivery/shares/pqtogr/contents/pi-c57ef07f-9436-4af0-8d97-bc7743b245ec/image/Kitchenaid_Food_processor_5KSM180WSBEG_Evergreen_Profile.jpg?w=1000&h=1000&zoom=true&fillColor=ffffff&crop=product', 'is_available': True, 'date_checked': datetime.datetime(2025, 4, 29, 7, 59, 27, 344957, tzinfo=datetime.timezone.utc), 'price': '£ 899.00', 'status': 'success', '_id': ObjectId('681086dfd1c26c465276d525')}}], 'writeConcernErrors': [], 'nInserted': 0, 'nUpserted': 0, 'nMatched': 0, 'nModified': 0, 'nRemoved': 0, 'upserted': []}
2025-04-29 08:59:27,481 - KitchnSpy - ERROR - Exception | batch op errors occurred, full error: {'writeErrors': [{'index': 0, 'code': 11000, 'errmsg': 'E11000 duplicate key error collection: kitchnspy.products index: url_1 dup key: { url: "https://www.kitchenaid.co.uk/mixers/medium/859711664810/mixer-design-series-4-7l-evergreen-artisan-5ksm180ws-evergreen" }', 'keyPattern': {'url': 1}, 'keyValue': {'url': 'https://www.kitchenaid.co.uk/mixers/medium/859711664810/mixer-design-series-4-7l-evergreen-artisan-5ksm180ws-evergreen'}, 'op': {'name': 'Evergreen Artisan', 'url': 'https://www.kitchenaid.co.uk/mixers/medium/859711664810/mixer-design-series-4-7l-evergreen-artisan-5ksm180ws-evergreen', 'product_name': 'MIXER DESIGN SERIES 4.7L EVERGREEN - ARTISAN', 'img_url': 'https://digitalassets-cdn.thron.com/api/v1/content-delivery/shares/pqtogr/contents/pi-c57ef07f-9436-4af0-8d97-bc7743b245ec/image/Kitchenaid_Food_processor_5KSM180WSBEG_Evergreen_Profile.jpg?w=1000&h=1000&zoom=true&fillColor=ffffff&crop=product', 'is_available': True, 'date_checked': datetime.datetime(2025, 4, 29, 7, 59, 27, 344957, tzinfo=datetime.timezone.utc), 'price': '£ 899.00', 'status': 'success', '_id': ObjectId('681086dfd1c26c465276d525')}}], 'writeConcernErrors': [], 'nInserted': 0, 'nUpserted': 0, 'nMatched': 0, 'nModified': 0, 'nRemoved': 0, 'upserted': []}
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 14, in add_products
    return products_crud.add_products(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 55, in add_products
    self.db.insert_products(validated_products)
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 106, in insert_products
    result = self.products.insert_many(data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\pymongo\_csot.py", line 119, in csot_wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\pymongo\synchronous\collection.py", line 975, in insert_many
    blk.execute(write_concern, session, _Op.INSERT)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\pymongo\synchronous\bulk.py", line 751, in execute
    return self.execute_command(generator, write_concern, session, operation)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\pymongo\synchronous\bulk.py", line 614, in execute_command
    _raise_bulk_write_error(full_result)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\pymongo\bulk_shared.py", line 131, in _raise_bulk_write_error
    raise BulkWriteError(full_result)
pymongo.errors.BulkWriteError: batch op errors occurred, full error: {'writeErrors': [{'index': 0, 'code': 11000, 'errmsg': 'E11000 duplicate key error collection: kitchnspy.products index: url_1 dup key: { url: "https://www.kitchenaid.co.uk/mixers/medium/859711664810/mixer-design-series-4-7l-evergreen-artisan-5ksm180ws-evergreen" }', 'keyPattern': {'url': 1}, 'keyValue': {'url': 'https://www.kitchenaid.co.uk/mixers/medium/859711664810/mixer-design-series-4-7l-evergreen-artisan-5ksm180ws-evergreen'}, 'op': {'name': 'Evergreen Artisan', 'url': 'https://www.kitchenaid.co.uk/mixers/medium/859711664810/mixer-design-series-4-7l-evergreen-artisan-5ksm180ws-evergreen', 'product_name': 'MIXER DESIGN SERIES 4.7L EVERGREEN - ARTISAN', 'img_url': 'https://digitalassets-cdn.thron.com/api/v1/content-delivery/shares/pqtogr/contents/pi-c57ef07f-9436-4af0-8d97-bc7743b245ec/image/Kitchenaid_Food_processor_5KSM180WSBEG_Evergreen_Profile.jpg?w=1000&h=1000&zoom=true&fillColor=ffffff&crop=product', 'is_available': True, 'date_checked': datetime.datetime(2025, 4, 29, 7, 59, 27, 344957, tzinfo=datetime.timezone.utc), 'price': '£ 899.00', 'status': 'success', '_id': ObjectId('681086dfd1c26c465276d525')}}], 'writeConcernErrors': [], 'nInserted': 0, 'nUpserted': 0, 'nMatched': 0, 'nModified': 0, 'nRemoved': 0, 'upserted': []}
2025-04-29 08:59:27,582 - KitchnSpy - ERROR - Unhandled exception | batch op errors occurred, full error: {'writeErrors': [{'index': 0, 'code': 11000, 'errmsg': 'E11000 duplicate key error collection: kitchnspy.products index: url_1 dup key: { url: "https://www.kitchenaid.co.uk/mixers/medium/859711664810/mixer-design-series-4-7l-evergreen-artisan-5ksm180ws-evergreen" }', 'keyPattern': {'url': 1}, 'keyValue': {'url': 'https://www.kitchenaid.co.uk/mixers/medium/859711664810/mixer-design-series-4-7l-evergreen-artisan-5ksm180ws-evergreen'}, 'op': {'name': 'Evergreen Artisan', 'url': 'https://www.kitchenaid.co.uk/mixers/medium/859711664810/mixer-design-series-4-7l-evergreen-artisan-5ksm180ws-evergreen', 'product_name': 'MIXER DESIGN SERIES 4.7L EVERGREEN - ARTISAN', 'img_url': 'https://digitalassets-cdn.thron.com/api/v1/content-delivery/shares/pqtogr/contents/pi-c57ef07f-9436-4af0-8d97-bc7743b245ec/image/Kitchenaid_Food_processor_5KSM180WSBEG_Evergreen_Profile.jpg?w=1000&h=1000&zoom=true&fillColor=ffffff&crop=product', 'is_available': True, 'date_checked': datetime.datetime(2025, 4, 29, 7, 59, 27, 344957, tzinfo=datetime.timezone.utc), 'price': '£ 899.00', 'status': 'success', '_id': ObjectId('681086dfd1c26c465276d525')}}], 'writeConcernErrors': [], 'nInserted': 0, 'nUpserted': 0, 'nMatched': 0, 'nModified': 0, 'nRemoved': 0, 'upserted': []}
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 14, in add_products
    return products_crud.add_products(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 55, in add_products
    self.db.insert_products(validated_products)
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 106, in insert_products
    result = self.products.insert_many(data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\pymongo\_csot.py", line 119, in csot_wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\pymongo\synchronous\collection.py", line 975, in insert_many
    blk.execute(write_concern, session, _Op.INSERT)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\pymongo\synchronous\bulk.py", line 751, in execute
    return self.execute_command(generator, write_concern, session, operation)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\pymongo\synchronous\bulk.py", line 614, in execute_command
    _raise_bulk_write_error(full_result)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\pymongo\bulk_shared.py", line 131, in _raise_bulk_write_error
    raise BulkWriteError(full_result)
pymongo.errors.BulkWriteError: batch op errors occurred, full error: {'writeErrors': [{'index': 0, 'code': 11000, 'errmsg': 'E11000 duplicate key error collection: kitchnspy.products index: url_1 dup key: { url: "https://www.kitchenaid.co.uk/mixers/medium/859711664810/mixer-design-series-4-7l-evergreen-artisan-5ksm180ws-evergreen" }', 'keyPattern': {'url': 1}, 'keyValue': {'url': 'https://www.kitchenaid.co.uk/mixers/medium/859711664810/mixer-design-series-4-7l-evergreen-artisan-5ksm180ws-evergreen'}, 'op': {'name': 'Evergreen Artisan', 'url': 'https://www.kitchenaid.co.uk/mixers/medium/859711664810/mixer-design-series-4-7l-evergreen-artisan-5ksm180ws-evergreen', 'product_name': 'MIXER DESIGN SERIES 4.7L EVERGREEN - ARTISAN', 'img_url': 'https://digitalassets-cdn.thron.com/api/v1/content-delivery/shares/pqtogr/contents/pi-c57ef07f-9436-4af0-8d97-bc7743b245ec/image/Kitchenaid_Food_processor_5KSM180WSBEG_Evergreen_Profile.jpg?w=1000&h=1000&zoom=true&fillColor=ffffff&crop=product', 'is_available': True, 'date_checked': datetime.datetime(2025, 4, 29, 7, 59, 27, 344957, tzinfo=datetime.timezone.utc), 'price': '£ 899.00', 'status': 'success', '_id': ObjectId('681086dfd1c26c465276d525')}}], 'writeConcernErrors': [], 'nInserted': 0, 'nUpserted': 0, 'nMatched': 0, 'nModified': 0, 'nRemoved': 0, 'upserted': []}
2025-04-29 09:02:39,311 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:02:39,363 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:02:39,403 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:02:39,452 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:02:39,489 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:02:39,516 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:02:39,558 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:02:39,604 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:02:39,621 - KitchnSpy - INFO - Application started
2025-04-29 09:03:13,994 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:03:14,035 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:03:14,068 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:03:14,105 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:03:14,148 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:03:14,195 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:03:14,230 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:03:14,261 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:03:14,275 - KitchnSpy - INFO - Application started
2025-04-29 09:06:15,698 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:06:15,755 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:06:15,788 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:06:15,803 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:06:15,816 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:06:15,849 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:06:15,885 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:06:15,916 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:06:15,932 - KitchnSpy - INFO - Application started
2025-04-29 09:13:44,046 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 09:13:44,048 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 09:13:44,242 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 09:13:44,254 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.011s
2025-04-29 09:13:50,123 - KitchnSpy - INFO - Request started | POST /api/v1/products/batch
2025-04-29 09:13:50,125 - KitchnSpy - INFO - Scraping for Evergreen Artisan
2025-04-29 09:13:50,125 - KitchnSpy - INFO - Scraping for Evergreen Artisan
2025-04-29 09:13:50,303 - KitchnSpy - INFO - Scraping for Classic White
2025-04-29 09:13:50,303 - KitchnSpy - INFO - Scraping for Classic White
2025-04-29 09:13:50,449 - KitchnSpy - ERROR - Exception | 'MongoGateway' object has no attribute 'insert_products'
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 14, in add_products
    return products_crud.add_products(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 55, in add_products
    self.db.insert_products(validated_products)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MongoGateway' object has no attribute 'insert_products'. Did you mean: 'insert_product'?
2025-04-29 09:13:50,457 - KitchnSpy - ERROR - Unhandled exception | 'MongoGateway' object has no attribute 'insert_products'
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 14, in add_products
    return products_crud.add_products(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 55, in add_products
    self.db.insert_products(validated_products)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MongoGateway' object has no attribute 'insert_products'. Did you mean: 'insert_product'?
2025-04-29 09:14:17,137 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 09:14:17,139 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 09:14:17,272 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 09:14:17,273 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 09:14:21,189 - KitchnSpy - INFO - Request started | POST /api/v1/products/batch
2025-04-29 09:14:21,190 - KitchnSpy - INFO - Scraping for Evergreen Artisan
2025-04-29 09:14:21,190 - KitchnSpy - INFO - Scraping for Evergreen Artisan
2025-04-29 09:14:21,319 - KitchnSpy - INFO - Scraping for Classic White
2025-04-29 09:14:21,320 - KitchnSpy - INFO - Scraping for Classic White
2025-04-29 09:14:21,477 - KitchnSpy - ERROR - Exception | 'MongoGateway' object has no attribute 'insert_products'
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 14, in add_products
    return products_crud.add_products(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 55, in add_products
    self.db.insert_or_update_products(validated_products)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MongoGateway' object has no attribute 'insert_products'. Did you mean: 'insert_product'?
2025-04-29 09:14:21,481 - KitchnSpy - ERROR - Unhandled exception | 'MongoGateway' object has no attribute 'insert_products'
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 14, in add_products
    return products_crud.add_products(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 55, in add_products
    self.db.insert_or_update_products(validated_products)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MongoGateway' object has no attribute 'insert_products'. Did you mean: 'insert_product'?
2025-04-29 09:14:45,724 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:14:45,782 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:14:45,827 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:14:45,887 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:14:45,919 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:14:45,952 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:14:45,985 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:14:46,016 - KitchnSpy - INFO - MongoDB connection established successfully
2025-04-29 09:14:46,027 - KitchnSpy - INFO - Application started
2025-04-29 09:15:02,355 - KitchnSpy - INFO - Request started | GET /
2025-04-29 09:15:02,359 - KitchnSpy - INFO - Request completed | Status: 404 | Time: 0.002s
2025-04-29 09:15:02,566 - KitchnSpy - INFO - Request started | GET /favicon.ico
2025-04-29 09:15:02,569 - KitchnSpy - INFO - Request completed | Status: 404 | Time: 0.001s
2025-04-29 09:15:08,148 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 09:15:08,149 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 09:15:08,265 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 09:15:08,275 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.010s
2025-04-29 09:15:16,598 - KitchnSpy - INFO - Request started | POST /api/v1/products/batch
2025-04-29 09:15:16,600 - KitchnSpy - INFO - Scraping for Evergreen Artisan
2025-04-29 09:15:16,600 - KitchnSpy - INFO - Scraping for Evergreen Artisan
2025-04-29 09:15:16,765 - KitchnSpy - INFO - Scraping for Classic White
2025-04-29 09:15:16,765 - KitchnSpy - INFO - Scraping for Classic White
2025-04-29 09:15:16,899 - KitchnSpy - INFO - Inserted: 0, Updated: 2
2025-04-29 09:15:16,901 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.302s
2025-04-29 09:15:51,508 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 09:15:51,510 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.001s
2025-04-29 09:15:51,632 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 09:15:51,634 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.002s
2025-04-29 09:15:57,587 - KitchnSpy - INFO - Request started | POST /api/v1/products/batch
2025-04-29 09:15:57,589 - KitchnSpy - INFO - Scraping for Evergreen Artisan
2025-04-29 09:15:57,589 - KitchnSpy - INFO - Scraping for Evergreen Artisan
2025-04-29 09:15:57,732 - KitchnSpy - INFO - Scraping for Classic White
2025-04-29 09:15:57,732 - KitchnSpy - INFO - Scraping for Classic White
2025-04-29 09:15:57,923 - KitchnSpy - INFO - Inserted: 2, Updated: 0
2025-04-29 09:15:57,924 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.337s
2025-04-29 09:16:09,627 - KitchnSpy - INFO - Request started | POST /api/v1/products/batch
2025-04-29 09:16:09,627 - KitchnSpy - INFO - Scraping for Evergreen Artisan
2025-04-29 09:16:09,628 - KitchnSpy - INFO - Scraping for Evergreen Artisan
2025-04-29 09:16:09,748 - KitchnSpy - INFO - Scraping for Classic White
2025-04-29 09:16:09,748 - KitchnSpy - INFO - Scraping for Classic White
2025-04-29 09:16:09,898 - KitchnSpy - INFO - Inserted: 0, Updated: 2
2025-04-29 09:16:09,899 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.272s
2025-04-29 09:16:22,747 - KitchnSpy - INFO - Request started | POST /api/v1/products/
2025-04-29 09:16:22,748 - KitchnSpy - INFO - Scraping for Glass Mixing bowl
2025-04-29 09:16:22,906 - KitchnSpy - INFO - Inserted product with ID: 68108ad64b5bd6e98462abb0
2025-04-29 09:16:22,907 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.160s
2025-04-29 09:16:29,498 - KitchnSpy - INFO - Request started | GET /docs
2025-04-29 09:16:29,499 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.000s
2025-04-29 09:16:29,574 - KitchnSpy - INFO - Request started | GET /openapi.json
2025-04-29 09:16:29,575 - KitchnSpy - INFO - Request completed | Status: 200 | Time: 0.000s
2025-04-29 09:16:36,143 - KitchnSpy - INFO - Request started | POST /api/v1/products/
2025-04-29 09:16:36,144 - KitchnSpy - INFO - Scraping for Glass Mixing bowl
2025-04-29 09:16:36,332 - KitchnSpy - ERROR - Exception | 
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\routers\products.py", line 10, in add_product
    return products_crud.add_product(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\crud\products.py", line 39, in add_product
    self.db.insert_product(validated_product)
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 97, in insert_product
    raise DuplicateEntityError(entry=data["url"], entity="Product")
app.core.exceptions.DuplicateEntityError
2025-04-29 09:16:36,339 - KitchnSpy - WARNING - DuplicateEntityError | Product with id https://www.kitchenaid.co.uk/mixing-bowls/859711694400/glass-mixing-bowl-4-7-l-5ksm5gb-transparent already exists
2025-04-29 09:17:03,764 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 09:17:03,766 - KitchnSpy - ERROR - Error searching products: 
2025-04-29 09:17:03,767 - KitchnSpy - ERROR - Exception | 
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 201, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\encoders.py", line 301, in jsonable_encoder
    for item in obj:
                ^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 170, in search_products_by_name
    raise DocsNotFoundError(entities="Products", page=page)
app.core.exceptions.DocsNotFoundError
2025-04-29 09:17:03,772 - KitchnSpy - WARNING - DocsNotFoundError | No Products found on page 1
2025-04-29 09:17:08,617 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 09:17:08,618 - KitchnSpy - ERROR - Exception | 
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 201, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\encoders.py", line 301, in jsonable_encoder
    for item in obj:
                ^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 157, in search_products_by_name
    raise EmptySearchError(entry=search_term)
app.core.exceptions.EmptySearchError
2025-04-29 09:17:08,621 - KitchnSpy - WARNING - EmptySearchError | Empty search term attempted. Entry: 
2025-04-29 09:17:17,420 - KitchnSpy - INFO - Request started | GET /api/v1/products/search
2025-04-29 09:17:17,422 - KitchnSpy - ERROR - Error searching products: cannot set options after executing query
2025-04-29 09:17:17,423 - KitchnSpy - ERROR - Exception | cannot set options after executing query
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 201, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\encoders.py", line 301, in jsonable_encoder
    for item in obj:
                ^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 173, in search_products_by_name
    cursor = cursor.skip(skip).limit(per_page)
             ^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\pymongo\synchronous\cursor.py", line 505, in skip
    self._check_okay_to_chain()
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\pymongo\synchronous\cursor.py", line 382, in _check_okay_to_chain
    raise InvalidOperation("cannot set options after executing query")
pymongo.errors.InvalidOperation: cannot set options after executing query
2025-04-29 09:17:17,455 - KitchnSpy - ERROR - Unhandled exception | cannot set options after executing query
Traceback (most recent call last):
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\anyio\streams\memory.py", line 104, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\infra\middleware.py", line 32, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\routing.py", line 201, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\fastapi\encoders.py", line 301, in jsonable_encoder
    for item in obj:
                ^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\KitchnSpy\app\core\database\mongo_gateway.py", line 173, in search_products_by_name
    cursor = cursor.skip(skip).limit(per_page)
             ^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\pymongo\synchronous\cursor.py", line 505, in skip
    self._check_okay_to_chain()
  File "C:\Users\dell\AppData\Local\Programs\Python\Python312\Lib\site-packages\pymongo\synchronous\cursor.py", line 382, in _check_okay_to_chain
    raise InvalidOperation("cannot set options after executing query")
pymongo.errors.InvalidOperation: cannot set options after executing query
